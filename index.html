<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Travel Budget Simulator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        teal: {
                            50: '#f0fdfa',
                            100: '#ccfbf1',
                            200: '#99f6e4',
                            300: '#5eead4',
                            400: '#2dd4bf',
                            500: '#14b8a6',
                            600: '#0d9488',
                            700: '#0f766e',
                            800: '#115e59',
                            900: '#134e4a',
                            950: '#042f2e',
                        },
                        emerald: {
                            50: '#ecfdf5',
                            100: '#d1fae5',
                            200: '#a7f3d0',
                            300: '#6ee7b7',
                            400: '#34d399',
                            500: '#10b981',
                            600: '#059669',
                            700: '#047857',
                            800: '#065f46',
                            900: '#064e3b',
                            950: '#022c22',
                        },
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>
<body>
    <div class="min-h-screen bg-gradient-to-b from-sky-50 to-white py-8 px-4 sm:px-6">
        <div class="max-w-4xl mx-auto bg-white rounded-2xl shadow-xl overflow-hidden">
            <div class="bg-gradient-to-r from-teal-500 to-emerald-500 p-6 text-white">
                <div class="flex items-center justify-center gap-3">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-8 w-8">
                        <circle cx="12" cy="12" r="10"/>
                        <polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"/>
                    </svg>
                    <h1 class="text-2xl md:text-3xl font-bold">Travel Budget Simulator</h1>
                </div>
                <p class="text-center mt-2 text-teal-50 text-sm">Plan your trip finances with precision</p>
            </div>

            <div class="p-6 md:p-8">
                <form id="budgetForm" class="space-y-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="space-y-2">
                            <label for="destination" class="flex items-center gap-2 text-sm font-medium text-gray-700">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4 text-teal-500">
                                    <path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/>
                                    <circle cx="12" cy="10" r="3"/>
                                </svg>
                                Destination
                            </label>
                            <input
                                type="text"
                                id="destination"
                                name="destination"
                                placeholder="e.g., Paris, Tokyo"
                                required
                                class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all"
                            />
                        </div>

                        <div class="space-y-2">
                            <label for="days" class="flex items-center gap-2 text-sm font-medium text-gray-700">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4 text-teal-500">
                                    <rect width="18" height="18" x="3" y="4" rx="2" ry="2"/>
                                    <line x1="16" x2="16" y1="2" y2="6"/>
                                    <line x1="8" x2="8" y1="2" y2="6"/>
                                    <line x1="3" x2="21" y1="10" y2="10"/>
                                </svg>
                                Number of Days
                            </label>
                            <input
                                type="number"
                                id="days"
                                name="days"
                                min="1"
                                value="7"
                                class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all"
                            />
                        </div>

                        <div class="space-y-2">
                            <label for="people" class="flex items-center gap-2 text-sm font-medium text-gray-700">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4 text-teal-500">
                                    <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                                    <circle cx="9" cy="7" r="4"/>
                                    <path d="M22 21v-2a4 4 0 0 0-3-3.87"/>
                                    <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                                </svg>
                                Number of People
                            </label>
                            <input
                                type="number"
                                id="people"
                                name="people"
                                min="1"
                                value="1"
                                class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all"
                            />
                        </div>

                        <div class="space-y-2">
                            <label for="accommodation" class="flex items-center gap-2 text-sm font-medium text-gray-700">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4 text-teal-500">
                                    <path d="M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8"/>
                                    <path d="M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4"/>
                                    <path d="M12 4v6"/>
                                    <path d="M2 18h20"/>
                                </svg>
                                Accommodation Type
                            </label>
                            <select
                                id="accommodation"
                                name="accommodation"
                                class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all"
                            >
                                <option value="basic">Basic (e.g., Hostel, Budget Hotel)</option>
                                <option value="standard" selected>Standard (e.g., Mid-range Hotel, Airbnb)</option>
                                <option value="luxury">Luxury (e.g., High-end Hotel, Resort)</option>
                            </select>
                        </div>

                        <div class="space-y-2 md:col-span-2">
                            <label class="flex items-center gap-2 text-sm font-medium text-gray-700">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4 text-teal-500">
                                    <path d="M2 22h20"/>
                                    <path d="M6.38 17H4a2 2 0 0 1-2-2V9.5a2 2 0 0 1 1-1.73l10-5.63a2 2 0 0 1 2 0l10 5.63a2 2 0 0 1 1 1.73V15a2 2 0 0 1-2 2h-3.38"/>
                                    <line x1="7" x2="7" y1="14" y2="17"/>
                                    <line x1="17" x2="17" y1="14" y2="17"/>
                                    <path d="M14 17v-1a2 2 0 0 0-4 0v1"/>
                                </svg>
                                Primary Transport
                            </label>
                            <div class="grid grid-cols-3 gap-3">
                                <label
                                    class="flex items-center justify-center gap-2 p-3 border rounded-lg cursor-pointer transition-all transport-option"
                                    data-value="flight"
                                >
                                    <input
                                        type="radio"
                                        name="transport"
                                        value="flight"
                                        class="sr-only"
                                        checked
                                    />
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5">
                                        <path d="M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z"/>
                                    </svg>
                                    <span>Flight</span>
                                </label>

                                <label
                                    class="flex items-center justify-center gap-2 p-3 border rounded-lg cursor-pointer transition-all transport-option"
                                    data-value="train"
                                >
                                    <input
                                        type="radio"
                                        name="transport"
                                        value="train"
                                        class="sr-only"
                                    />
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5">
                                        <rect x="4" y="3" width="16" height="16" rx="2"/>
                                        <path d="M4 11h16"/>
                                        <path d="M12 3v8"/>
                                        <path d="m8 19-2 3"/>
                                        <path d="m18 22-2-3"/>
                                    </svg>
                                    <span>Train</span>
                                </label>

                                <label
                                    class="flex items-center justify-center gap-2 p-3 border rounded-lg cursor-pointer transition-all transport-option"
                                    data-value="car"
                                >
                                    <input
                                        type="radio"
                                        name="transport"
                                        value="car"
                                        class="sr-only"
                                    />
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5">
                                        <path d="M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.6-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.5 2.8C1.4 11.3 1 12.1 1 13v3c0 .6.4 1 1 1h2"/>
                                        <circle cx="7" cy="17" r="2"/>
                                        <path d="M9 17h6"/>
                                        <circle cx="17" cy="17" r="2"/>
                                    </svg>
                                    <span>Car</span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="border border-gray-200 rounded-xl p-5 bg-gray-50">
                        <h3 class="text-sm font-medium text-gray-700 mb-4 flex items-center gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4 text-teal-500">
                                <circle cx="12" cy="12" r="10"/>
                                <polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"/>
                            </svg>
                            Optional Activities (per person)
                        </h3>
                        <div class="grid grid-cols-1 sm:grid-cols-3 gap-3">
                            <label
                                class="flex items-center gap-3 p-3 border rounded-lg cursor-pointer transition-all activity-option"
                                data-value="cityTour"
                            >
                                <input
                                    type="checkbox"
                                    id="cityTour"
                                    name="activity"
                                    value="cityTour"
                                    class="h-5 w-5 rounded text-teal-500 focus:ring-teal-500"
                                />
                                <span>City Tour</span>
                            </label>

                            <label
                                class="flex items-center gap-3 p-3 border rounded-lg cursor-pointer transition-all activity-option"
                                data-value="museumTicket"
                            >
                                <input
                                    type="checkbox"
                                    id="museumTicket"
                                    name="activity"
                                    value="museumTicket"
                                    class="h-5 w-5 rounded text-teal-500 focus:ring-teal-500"
                                />
                                <span>Museum Ticket</span>
                            </label>

                            <label
                                class="flex items-center gap-3 p-3 border rounded-lg cursor-pointer transition-all activity-option"
                                data-value="boatRide"
                            >
                                <input
                                    type="checkbox"
                                    id="boatRide"
                                    name="activity"
                                    value="boatRide"
                                    class="h-5 w-5 rounded text-teal-500 focus:ring-teal-500"
                                />
                                <span>Boat Ride</span>
                            </label>
                        </div>
                    </div>

                    <button
                        type="button"
                        id="calculateBtn"
                        class="w-full flex items-center justify-center gap-2 bg-gradient-to-r from-teal-500 to-emerald-500 text-white py-4 px-6 rounded-xl font-semibold text-lg shadow-md hover:from-teal-600 hover:to-emerald-600 transition-all transform hover:scale-[1.02] active:scale-[0.98]"
                    >
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5">
                            <rect x="2" y="3" width="20" height="14" rx="2"/>
                            <line x1="8" x2="16" y1="21" y2="21"/>
                            <line x1="12" x2="12" y1="17" y2="21"/>
                        </svg>
                        Calculate Estimated Budget
                    </button>
                </form>
            </div>

            <div class="bg-gray-50 py-4 px-6 text-center text-gray-500 text-sm border-t border-gray-100">
                &copy; <span id="currentYear"></span> TravelSim. All rights reserved.
            </div>
        </div>

        <div id="resultModal" class="fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50 p-4 hidden">
            <div class="bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden transition-opacity duration-300 opacity-0" id="modalContent">
                <div class="bg-gradient-to-r from-teal-500 to-emerald-500 p-5 text-white flex justify-between items-center">
                    <h2 class="text-xl font-bold flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5">
                            <rect x="2" y="3" width="20" height="14" rx="2"/>
                            <line x1="8" x2="16" y1="21" y2="21"/>
                            <line x1="12" x2="12" y1="17" y2="21"/>
                        </svg>
                        Estimated Travel Cost
                    </h2>
                    <button
                        id="closeModalBtn"
                        class="text-white hover:text-teal-100 transition-colors"
                        aria-label="Close"
                    >
                        <svg
                            class="w-6 h-6"
                            fill="none"
                            stroke="currentColor"
                            viewBox="0 0 24 24"
                            xmlns="http://www.w3.org/2000/svg"
                        >
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>

                <div class="p-6">
                    <p class="text-gray-600">
                        For your trip to <strong id="popoverDestination" class="text-teal-700"></strong> for
                        <strong id="popoverDays" class="text-teal-700"></strong> days with
                        <strong id="popoverPeople" class="text-teal-700"></strong> <span id="peopleText"></span>:
                    </p>

                    <div class="my-6 text-center">
                        <span class="block text-gray-500 mb-1">Total Estimated Cost:</span>
                        <p id="estimatedCostText" class="text-4xl font-bold text-teal-600"></p>
                    </div>

                    <div class="border-t border-gray-100 pt-4">
                        <p class="font-medium text-gray-700 mb-3">Cost Breakdown (estimates):</p>
                        <ul id="costBreakdownList" class="space-y-3">
                            <!-- Cost breakdown items will be inserted here -->
                        </ul>
                    </div>
                </div>

                <div class="bg-gray-50 p-4 text-right border-t border-gray-100">
                    <button
                        id="closeModalBtnBottom"
                        class="px-5 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors"
                    >
                        Close
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Set current year in footer
            document.getElementById('currentYear').textContent = new Date().getFullYear();

            // Get DOM elements
            const budgetForm = document.getElementById('budgetForm');
            const calculateBtn = document.getElementById('calculateBtn');
            const resultModal = document.getElementById('resultModal');
            const modalContent = document.getElementById('modalContent');
            const closeModalBtn = document.getElementById('closeModalBtn');
            const closeModalBtnBottom = document.getElementById('closeModalBtnBottom');
            
            // Transport option styling
            const transportOptions = document.querySelectorAll('.transport-option');
            transportOptions.forEach(option => {
                const radio = option.querySelector('input[type="radio"]');
                
                // Set initial state
                if (radio.checked) {
                    option.classList.add('bg-teal-50', 'border-teal-500', 'text-teal-700');
                }
                
                // Add click event
                option.addEventListener('click', () => {
                    transportOptions.forEach(opt => {
                        opt.classList.remove('bg-teal-50', 'border-teal-500', 'text-teal-700');
                    });
                    option.classList.add('bg-teal-50', 'border-teal-500', 'text-teal-700');
                    radio.checked = true;
                });
            });
            
            // Activity option styling
            const activityOptions = document.querySelectorAll('.activity-option');
            activityOptions.forEach(option => {
                const checkbox = option.querySelector('input[type="checkbox"]');
                
                // Add click event for styling
                checkbox.addEventListener('change', () => {
                    if (checkbox.checked) {
                        option.classList.add('bg-white', 'border-teal-500');
                    } else {
                        option.classList.remove('bg-white', 'border-teal-500');
                    }
                });
            });

            // Cost data
            const costs = {
                accommodation: { basic: 50, standard: 100, luxury: 250 }, // per person per day
                transport: { car: 70, flight: 350, train: 180 }, // car: per day (group), flight/train: per person round trip
                activities: { cityTour: 45, museumTicket: 25, boatRide: 65 } // per person
            };

            // Calculate budget
            calculateBtn.addEventListener('click', () => {
                // Form validation
                const destination = document.getElementById('destination').value;
                if (!destination) {
                    document.getElementById('destination').focus();
                    return;
                }

                const numDays = parseInt(document.getElementById('days').value);
                const numPeople = parseInt(document.getElementById('people').value);
                const accommodationType = document.getElementById('accommodation').value;
                
                // Get selected transport
                let transportType = '';
                document.querySelectorAll('input[name="transport"]').forEach(radio => {
                    if (radio.checked) {
                        transportType = radio.value;
                    }
                });

                // Get selected activities
                const selectedActivities = [];
                document.querySelectorAll('input[name="activity"]:checked').forEach(checkbox => {
                    selectedActivities.push(checkbox.value);
                });

                let accommodationCost = 0;
                let transportCost = 0;
                let activitiesTotalCost = 0;
                const costBreakdown = [];

                // 1. Accommodation Cost
                if (costs.accommodation[accommodationType]) {
                    const rate = costs.accommodation[accommodationType];
                    accommodationCost = numDays * numPeople * rate;
                    costBreakdown.push({
                        category: 'Accommodation',
                        details: `${accommodationType.charAt(0).toUpperCase() + accommodationType.slice(1)} (${numDays} days, ${numPeople} ${numPeople > 1 ? 'people' : 'person'} @ $${rate.toLocaleString()}/person/day)`,
                        total: accommodationCost
                    });
                }

                // 2. Transport Cost
                if (costs.transport[transportType]) {
                    const rate = costs.transport[transportType];
                    let transportDetails = '';
                    if (transportType === 'car') {
                        transportCost = numDays * rate;
                        transportDetails = `Car Rental (${numDays} days @ $${rate.toLocaleString()}/day for group)`;
                    } else {
                        transportCost = numPeople * rate;
                        transportDetails = `${transportType.charAt(0).toUpperCase() + transportType.slice(1)} (${numPeople} ${numPeople > 1 ? 'people' : 'person'} @ $${rate.toLocaleString()}/person round trip)`;
                    }
                    costBreakdown.push({ category: 'Transport', details: transportDetails, total: transportCost });
                }

                // 3. Activities Cost
                if (selectedActivities.length > 0) {
                    const activityItems = [];
                    selectedActivities.forEach(activityKey => {
                        if (costs.activities[activityKey]) {
                            const rate = costs.activities[activityKey];
                            const activityItemCost = numPeople * rate;
                            activitiesTotalCost += activityItemCost;
                            
                            let activityLabel = '';
                            if (activityKey === 'cityTour') activityLabel = 'City Tour';
                            if (activityKey === 'museumTicket') activityLabel = 'Museum Ticket';
                            if (activityKey === 'boatRide') activityLabel = 'Boat Ride';
                            
                            activityItems.push(`${activityLabel} ($${rate.toLocaleString()}/person)`);
                        }
                    });
                    if (activityItems.length > 0) {
                        costBreakdown.push({
                            category: 'Optional Activities',
                            details: `${activityItems.join(', ')} for ${numPeople} ${numPeople > 1 ? 'people' : 'person'}`,
                            total: activitiesTotalCost
                        });
                    }
                } else {
                    costBreakdown.push({ category: 'Optional Activities', details: 'No activities selected', total: 0 });
                }
                
                const totalCost = accommodationCost + transportCost + activitiesTotalCost;

                // Update modal content
                document.getElementById('popoverDestination').textContent = destination.trim();
                document.getElementById('popoverDays').textContent = numDays;
                document.getElementById('popoverPeople').textContent = numPeople;
                document.getElementById('peopleText').textContent = numPeople > 1 ? 'people' : 'person';
                document.getElementById('estimatedCostText').textContent = `$${totalCost.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;

                const costBreakdownList = document.getElementById('costBreakdownList');
                costBreakdownList.innerHTML = '';
                costBreakdown.forEach(item => {
                    const li = document.createElement('li');
                    li.className = 'flex justify-between pb-2 border-b border-gray-100 text-sm';
                    li.innerHTML = `
                        <div>
                            <strong class="text-teal-700">${item.category}:</strong> ${item.details}
                        </div>
                        <span class="font-semibold">
                            $${item.total.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}
                        </span>
                    `;
                    costBreakdownList.appendChild(li);
                });

                // Show modal
                resultModal.classList.remove('hidden');
                setTimeout(() => {
                    modalContent.style.opacity = '1';
                }, 50);
            });

            // Close modal functions
            const closeModal = () => {
                modalContent.style.opacity = '0';
                setTimeout(() => {
                    resultModal.classList.add('hidden');
                }, 300);
            };

            closeModalBtn.addEventListener('click', closeModal);
            closeModalBtnBottom.addEventListener('click', closeModal);
            resultModal.addEventListener('click', (e) => {
                if (e.target === resultModal) {
                    closeModal();
                }
            });
        });
    </script>
</body>
</html>